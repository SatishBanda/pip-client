<evaluation-header></evaluation-header>
<div class="col-sm-10 col-sm-offset-1 padding-0">
    <div class="col-sm-12 padding-0 eval-tab-container">
        <tabset [vertical]="true" type="pills" id="test1">
            <tab heading="Strengths">
                <div class="col-md-12 tab-content-container">
                    <h4 class="questionstxt margin-bottom-40">Phone Interview Feedback : Strengths</h4>

                    <div class="col-md-6 padding-0 labels-container" [class.left-sider-container]="isEven" [class.right-sider-container]="isOdd"
                        *ngFor="let subCategory of feedback1Arr;let i=index; let isOdd=odd;let isEven=even;">
                        <div class="row ">
                            <div class="col-sm-8 col-xs-8">
                                <p>{{subCategory.questionText}}</p>
                            </div>
                            <div class="col-sm-4 col-xs-4">
                                <span class="label label-default rating-text-label">{{(subCategory['questionValue']=='1')? rating1Text :(subCategory['questionValue']=='2') ?
                                    rating2Text :(subCategory['questionValue']=='3') ? rating3Text :(subCategory['questionValue']=='4')
                                    ? rating4Text : (subCategory['questionValue']=='5') ? rating5Text : rating0Text}}
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-12 col-xs-12" [ngClass]="(subCategory['questionValue']=='1') ?rating1Color : (subCategory['questionValue']=='2') ? rating2Color:(subCategory['questionValue']=='3') ? rating3Color:(subCategory['questionValue']=='4') ? rating4Color : (subCategory['questionValue']=='5') ? rating5Color : ''">
                            <nouislider #slider [config]="someKeyboardConfig" [(ngModel)]="subCategory['questionValue']"></nouislider>
                        </div>
                    </div>

                </div>
                <div class="col-sm-12 nopadding margin-top-15 margin-bottom-20 text-right">
                    <a id="Prevdiv32" class="btn btn-info" value="Prev" [routerLink]="['/admin/candidates/',candidate,'evaluation','recommendations']"
                        style="margin-right:2px;">
                        <i class="fa fa-arrow-left"></i>&nbsp;Prev</a>
                    <a (click)="submitEvaluation(feedback1Arr,'save')" class="btn btn-success" value="Next" style="margin-right:2px;">Save&nbsp;
                        <i class="fa fa-floppy-o"></i>&nbsp;</a>
                </div>
            </tab>
            <tab heading="Weaknesses">
                <div class="col-md-12 tab-content-container">
                    <h4 class="questionstxt margin-bottom-40">Phone Interview Feedback : Weaknesses</h4>

                    <div class="col-md-6 padding-0 labels-container" [class.left-sider-container]="isEven" [class.right-sider-container]="isOdd"
                        *ngFor="let subCategory of feedback2Arr;let i=index; let isOdd=odd;let isEven=even;">
                        <div class="row ">
                            <div class="col-sm-8 col-xs-8">
                                <p>{{subCategory.questionText}}</p>
                            </div>
                            <div class="col-sm-4 col-xs-4">
                                <span class="label label-default rating-text-label">{{(subCategory['questionValue']=='1')? rating1Text :(subCategory['questionValue']=='2') ?
                                    rating2Text :(subCategory['questionValue']=='3') ? rating3Text :(subCategory['questionValue']=='4')
                                    ? rating4Text : (subCategory['questionValue']=='5') ? rating5Text : rating0Text}}
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-12 col-xs-12" [ngClass]="(subCategory['questionValue']=='1') ?rating1Color : (subCategory['questionValue']=='2') ? rating2Color:(subCategory['questionValue']=='3') ? rating3Color:(subCategory['questionValue']=='4') ? rating4Color : (subCategory['questionValue']=='5') ? rating5Color : ''">
                            <nouislider #slider [config]="someKeyboardConfig" [(ngModel)]="subCategory['questionValue']"></nouislider>
                        </div>
                    </div>

                </div>
                <div class="col-sm-12 nopadding margin-top-15 margin-bottom-20 text-right">
                    <a id="Prevdiv32" class="btn btn-info" value="Prev" [routerLink]="['/admin/candidates/',candidate,'evaluation','recommendations']"
                        style="margin-right:2px;">
                        <i class="fa fa-arrow-left"></i>&nbsp;Prev</a>
                    <a (click)="submitEvaluation(feedback2Arr,'save')" class="btn btn-success" value="Next" style="margin-right:2px;">Save&nbsp;
                        <i class="fa fa-floppy-o"></i>&nbsp;</a>
                </div>
            </tab>
            <tab heading="Overall">
                <div class="col-md-12 tab-content-container">
                    <h4 class="questionstxt margin-bottom-40">Overall Phone Interview Rating</h4>


                    <div class="col-md-6 padding-0 labels-container" [class.left-sider-container]="isEven" [class.right-sider-container]="isOdd"
                        *ngFor="let subCategory of feedback3Arr;let i=index; let isOdd=odd;let isEven=even;">
                        <div class="row ">
                            <div class="col-sm-8 col-xs-8">
                                <p>{{subCategory.questionText}}</p>
                            </div>
                            <div class="col-sm-4 col-xs-4">
                                <span class="label label-default rating-text-label">{{(subCategory['questionValue']=='1')? rating1Text :(subCategory['questionValue']=='2') ?
                                    rating2Text :(subCategory['questionValue']=='3') ? rating3Text :(subCategory['questionValue']=='4')
                                    ? rating4Text : (subCategory['questionValue']=='5') ? rating5Text : rating0Text}}
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-12 col-xs-12" [ngClass]="(subCategory['questionValue']=='1') ?rating1Color : (subCategory['questionValue']=='2') ? rating2Color:(subCategory['questionValue']=='3') ? rating3Color:(subCategory['questionValue']=='4') ? rating4Color : (subCategory['questionValue']=='5') ? rating5Color : ''">
                            <nouislider #slider [config]="someKeyboardConfig" [(ngModel)]="subCategory['questionValue']"></nouislider>
                        </div>
                    </div>


                </div>
                <div class="col-sm-12 nopadding margin-top-15 margin-bottom-20 text-right">
                    <a id="Prevdiv32" class="btn btn-info" value="Prev" [routerLink]="['/admin/candidates/',candidate,'evaluation','recommendations']"
                        style="margin-right:2px;">
                        <i class="fa fa-arrow-left"></i>&nbsp;Prev</a>
                    <a (click)="submitEvaluation(feedback3Arr,'save')" class="btn btn-success" value="Next" style="margin-right:2px;">Save&nbsp;
                        <i class="fa fa-floppy-o"></i>&nbsp;</a>
                    <a (click)="submitEvaluation(feedback3Arr,'finish')" class="btn btn-success" value="Next" style="margin-right:2px;">Finish&nbsp;
                        <i class="fa fa-floppy-o"></i>&nbsp;</a>
                    <a (click)="submitEvaluation(feedback3Arr,'email')" class="btn btn-success" value="Next" style="margin-right:2px;">Finish & Email&nbsp;
                        <i class="fa fa-envelope"></i>&nbsp;</a>
                </div>
            </tab>
        </tabset>
    </div>
</div>

!-- Add modal start-->
<div class="modal fade" bsModal #finishMailModal="bs-modal" [config]="{backdrop: 'static'}" role="dialog" aria-labelledby="mySmallModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" style="width: 66%;">
        <div class="modal-content">
            <div class="modal-header modal-header-color">
                <h4 class="modal-title pull-left color-white">Compose Email</h4>
                <button type="button" class="close-modal modal-opacity close-modal-blue" (click)="closeModal()" aria-hidden="true">Ã—</button>
            </div>
            <form [formGroup]="finishEmailComposeForm">
                <div class="modal-body" style="padding:27px;">

                    <div class="row">

                        <div class="col-sm-12 nopadding">
                            <div class="col-sm-2">
                                <label class="form-control-label">To :
                                    <span class="red">*</span>
                                </label>
                            </div>
                            <div class="col-sm-10">
                                <div class="form-group required" [ngClass]="{'has-danger': !isComposeFormValid('to')}">
                                    <input type="text" class="form-control" [formControl]="finishEmailComposeForm.controls['to']" [(ngModel)]="mailCompose.to"
                                        [ngClass]="{'form-control-danger': !isComposeFormValid('to')}" maxlength="34">
                                    <span class="help-block help-block-error" *ngIf="!finishEmailComposeFormErrors.to.valid">{{finishEmailComposeFormErrors.to.message}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-12 nopadding margin-top-10">
                            <div class="col-sm-2">
                                <label class="form-control-label">CC :
                                </label>
                            </div>
                            <div class="col-sm-10">
                                <div class="form-group required" [ngClass]="{'has-danger': !isComposeFormValid('cc')}">
                                    <input type="text" id="candidateuser-cc" class="form-control" [formControl]="finishEmailComposeForm.controls['cc']" [(ngModel)]="mailCompose.cc"
                                        [ngClass]="{'form-control-danger': !isComposeFormValid('cc')}" maxlength="34">
                                    <span class="help-block help-block-error" *ngIf="!finishEmailComposeFormErrors.cc.valid">{{finishEmailComposeFormErrors.cc.message}}</span>
                                </div>
                            </div>
                        </div>


                        <div class="col-sm-12 nopadding margin-top-10">
                            <div class="col-sm-2">
                                <label class="form-control-label" for="companyuser-email">BCC :
                                </label>
                            </div>
                            <div class="col-sm-10">
                                <div class="form-group field-companyuser-email" [ngClass]="{'has-danger': !isComposeFormValid('bcc')}">
                                    <input type="text" id="adminusers-email" class="form-control" aria-required="true" [formControl]="finishEmailComposeForm.controls['bcc']"
                                        [(ngModel)]="mailCompose.bcc" [ngClass]="{'form-control-danger': !isComposeFormValid('bcc')}"
                                        maxlength="50">
                                    <span class="help-block help-block-error" *ngIf="!finishEmailComposeFormErrors.bcc.valid">{{finishEmailComposeFormErrors.bcc.message}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-12 nopadding margin-top-10">
                            <div class="col-sm-2">
                                <label class="form-control-label">Subject :
                                    <span class="red">*</span>
                                </label>
                            </div>
                            <div class="col-sm-10">
                                <div class="form-group field-companyuser-phone required" [ngClass]="{'has-danger': !isComposeFormValid('subject')}">
                                    <input type="text" class="form-control" [formControl]="finishEmailComposeForm.controls['subject']" [(ngModel)]="mailCompose.subject"
                                        [ngClass]="{'form-control-danger': !isComposeFormValid('subject')}" maxlength="34">
                                    <span class="help-block help-block-error" *ngIf="!finishEmailComposeFormErrors.subject.valid">{{finishEmailComposeFormErrors.subject.message}}</span>
                                </div>
                            </div>
                        </div>


                        <div class="col-sm-12 nopadding margin-top-10">
                            <div class="col-sm-2">
                                <label class="form-control-label">Message
                                    <span class="red">*</span>
                                </label>
                            </div>
                            <div class="col-sm-10">
                                <div class="form-group field-adminusers-message required" [ngClass]="{'has-danger': !isComposeFormValid('message')}">

                                    <app-tinymce [formControl]="finishEmailComposeForm.controls['message']" [(ngModel)]="mailCompose.message"></app-tinymce>
                                    <span class="help-block help-block-error" *ngIf="!finishEmailComposeFormErrors.message.valid">{{finishEmailComposeFormErrors.message.message}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer footer-background text-right">
                    <button type="button" class="btn btn-success" (click)="closeModal()">
                        <i class="fa fa-mail-forward">&nbsp;Send</i>
                    </button>
                    <button type="button" class="btn btn-default" (click)="closeModal()">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>